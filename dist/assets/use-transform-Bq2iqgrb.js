import{o as l,f as m,q as p,s as d,t as y,v as c,w as h}from"./index-CjKx-l9z.js";const V=t=>t&&typeof t=="object"&&t.mix,x=t=>V(t)?t.mix:void 0;function A(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],o=t[1+n],r=t[2+n],u=t[3+n],a=l(o,r,{mixer:x(r[0]),...u});return e?a(s):a}function f(t,e){const n=m(e()),s=()=>n.set(e());return s(),p(()=>{const o=()=>y.update(s,!1,!0),r=t.map(u=>u.on("change",o));return()=>{r.forEach(u=>u()),d(s)}}),n}function C(t){c.current=[],t();const e=f(c.current,t);return c.current=void 0,e}function b(t,e,n,s){if(typeof t=="function")return C(t);const o=typeof e=="function"?e:A(e,n,s);return Array.isArray(t)?i(t,o):i([t],([r])=>o(r))}function i(t,e){const n=h(()=>[]);return f(t,()=>{n.length=0;const s=t.length;for(let o=0;o<s;o++)n[o]=t[o].get();return e(n)})}export{b as u};
